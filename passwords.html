<!DOCTYPE html>
<html>
   <head>
      <title>Passwords</title>
      <link href="/css/styles.css" rel="stylesheet">
   </head>
   <body>
      
      <!-- Navigation -->
      <div data-collapse="medium" data-animation="default" data-duration="400" role="banner" class="nav w-nav">
         <div class="nav-container w-container">
              <nav role="navigation" class="nav-menu w-nav-menu">
                       <a href="index.html" class="nav-link w-nav-link">Home</a>
                       <a href="passwords.html" class="nav-link w-nav-link">Passwords</a>
                       <a href="#" class="nav-link w-nav-link">Cyber Breaches</a>
                       <a href="#" class="nav-link w-nav-link">Emails</a>
                       <a href="#" class="nav-link w-nav-link">Phishing</a>
                       <a href="#" class="nav-link w-nav-link">Sharing Information</a>
                       <a href="#" class="nav-link w-nav-link">Public</a>
                       <a href="#" class="nav-link w-nav-link">Social Media</a>
                       <a href="#" class="nav-link w-nav-link">Contact</a>
            </nav>
            <div class="w-nav-button">
               <div class="w-icon-nav-menu"></div>
            </div>
         </div>
      </div>
      
      <!-- First Section -->
      <div class="hero-section">
         <a href="#" class="logo w-nav-brand"></a>
         <div class="hero-right">
            <p class="caption-1">Passwords</p>
         </div>
         <div>
            <h1 class="heading-6">Short text about passwords?</h1>
            <p class="paragraph-6"><strong>And also maybe have 2 buttons that go straight to the password creator and generator</strong></p>
         </div>
      </div>
      <div class="logos-section"></div>
	   
      <div class="class-section">
         <div class="wrap-2 a">
            <div class="left-1">
               <p class="paragraph-2">Maybe here can talk about risks and stuff idk</p>
            </div>
         </div>
      </div>
      
      <!-- Second Section -->
      <div class="section-1">
         <div class="wrap-1">
            <h2 class="heading-3">Password Checker</h2>
            <p class="caption-4">Something about checking passwords blah blah filler text <em></em></p>
         </div>
      </div>
      
      <!-- Third Section -->
      <div class="section-3">
         <div class="wrap-3">
	 <center>
            	<h2 class="heading-5">Password Generator</h2>
            	<div class="slider"><span><label2>Special Characters:</label2>
      			<input type="checkbox" value="None" id="slider" name="check" checked />
        		<label for="slider"></label></span>
      		</div></>
		<p id="Value">_______________</p><br><br>
      
      		<button id="Password">Generate</button> 
      		<div class="tooltip">
      			<button onclick="Copy()" onmouseout="outFunc()">
       			<span class="tooltiptext" id="myTooltip">Copy Password</span>Copy</button></div>

	   	</div>
	 </center>  
         </div>
      </div>
      
      <!-- Footer -->
      <div class="footer-top">
         <div class="footer-top-wrap">
            <div class="footer-link-wrap">
               <a href="#" class="footer-link">Home</a>
               <a href="#" class="footer-link">About</a>
               <a href="#" class="footer-link">Contact</a>
            </div>
         </div>
      </div>
      <div class="w-embed">
         <style>
            .xxx { background: rgba(0,0,0,0.05); }
         </style>
	 <script>
		const Password = (length, arg) => {
			length = 15;
		var checkBox = document.getElementById("slider");
		  	if (checkBox.checked == true){
		    		arg = "~!@#$%^&*()_+-=;:.,?";
		  	} else {
		    		arg = "0";
		  	}

		const lowercase = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
		const uppercase = lowercase.join("").toUpperCase().split("");
		const specialChars = arg.split("").filter(item => item.trim().length);
		const numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
		 let hasNumber = false;
		 let hasUpper = false;
		 let hasLower = false;
		 let hasSpecial = false;

		 let password = [];
		 let lastChar;
		for (let i = 0; i < length; i++) {
		 let char = newChar(lowercase, uppercase, numbers, specialChars);
			if (char !== lastChar) {
		      		password.push(char);
		      		lastChar = char
				
		      		if (Number(char)) {
					hasNumber = true
		      		}	
		      		if (lowercase.indexOf(char) > -1) {
					hasLower = true
		      		}
		      		if (uppercase.indexOf(char) > -1) {
					hasUpper = true
		      		}
		      		if (specialChars.indexOf(char) > -1) {
					hasSpecial = true
		      		}
		    		} else {
		      			i--
		    		}
		    		
				if (i === length - 1 && (!hasNumber || !hasUpper || !hasLower || !hasSpecial)) {
		      			hasNumber = false;
		      			hasUpper = false;
		      			hasLower = false;
		      			hasSpecial = false;
		      			password = [];
		      			i = -1;
		    		}
		  	}

		  function newChar(lower, upper, nums, specials) {
		    let set = [lower, upper, nums, specials];
		    let pick = set[Math.floor(Math.random() * set.length)];
		    return pick[Math.floor(Math.random() * pick.length)]
		  }
		  updateView("Value", "Value", "", "P", password.join(""));
		}


		const updateView = (targetId, newId, label, element, method = '') => {
		  let newElement = document.createElement(element);
		  newElement.id = newId;
		  let content = document.createTextNode(label + method);
		  newElement.appendChild(content);

		  let currentElement = document.getElementById(targetId);
		  let parentElement = currentElement.parentNode;
		  parentElement.replaceChild(newElement, currentElement);
		}


		document.getElementById("Password").addEventListener("click", Password);

		function Copy(){
		    var dummy = document.createElement("textarea");

		    document.body.appendChild(dummy);

		    dummy.value = document.getElementById("Value").innerHTML;
		    dummy.select();
		    document.execCommand("copy");
		    document.body.removeChild(dummy);

		  var tooltip = document.getElementById("myTooltip");
		  tooltip.innerHTML = "Password Copied!";
		}

		function outFunc() {
		  var tooltip = document.getElementById("myTooltip");
		  tooltip.innerHTML = "Copy to clipboard";
		}
	 </script>
      </div>
   </body>
</html>
